$(document).ready(function(){const t=red_vars.home_url,e=red_vars.home_url+"archives/",o=$(location).attr("href");let n;$get_showPosts_btn=$(".my_btn"),$get_post_content=$(".postContent"),$get_post_author=$(".postAuthor"),$get_post_cat=$(".postCategories"),$get_form=$(".post-form"),$get_submit_btn=$(".submitPostBtn"),$get_title_quote=$(".authorText"),$get_content_quote=$(".quoteTextarea"),$get_archives_section=$(".archivesSection"),$get_categ_section=$(".catgList"),$get_tags_section=$(".tagsList"),$get_authors_section=$(".authorsList");const s={URL_RANDOM_POST:"posts?filter[orderby]=rand&filter[posts_per_page]=1",URL_ALL_POSTS:"posts?filter[orderby]=rand&filter[posts_per_page]=99",URL_CATEGORIES:"categories",URL_TAGS:"tags"};!function(){if(o==t){function a(t){let e=function(t){var e=(o=0,n=t.length-1,Math.floor(Math.random()*(n-o+1)+o));var o,n;return t[e]}(t),o=e.content.rendered,n=e.title.rendered;$get_post_content.html($(o).text()),$get_post_author.html("-- "+n+" ,"),$get_post_cat.html(function(t){let e=[],o="";for(i=0;i<=t.categories.length-1;i++)e.push(`<a class="cat_link" href="${t.category_link[i]}">${t.category[i].name}</a>`);return o=e.join(", ")}(e))}r(s.URL_RANDOM_POST),$get_showPosts_btn.on("click",function(t){var e;t.preventDefault(),e=r(s.URL_RANDOM_POST),console.log(e),a(e)})}if($get_form){$get_form.on("submit",function(t){var e;console.log("Test"),t.preventDefault(),$.ajax({method:"POST",url:red_vars.rest_url+"wp/v2/posts",data:(e={title:$get_title_quote.val(),content:$get_content_quote.val(),status:"publish"},JSON.stringify(e)),beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",red_vars.wpapi_nonce),t.setRequestHeader("Content-Type","application/json;charset=UTF-8")},success:function(t){console.log(t),console.log(JSON.stringify(t))},failure:function(){console.log("error")}}).done(function(t){$get_title_quote.val(""),$get_content_quote.val("")}).fail(function(t,e){}).always(function(t,e){})})}function r(r){return $.ajax({method:"GET",url:red_vars.rest_url+"wp/v2/"+r,beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",red_vars.wpapi_nonce)}}).done(function(c){if(n=c,o==t)console.log("isHomePage"),a(n);else if(o==e)switch(console.log("isArchivesPage"),console.log(n),r){case s.URL_ALL_POSTS:!function(t){for(console.log("biim"),$get_authors_section.html(""),i=0;i<t.length-1;i++)$get_authors_section.append(`<span class="authorItem"><a href="${t[i].link}">${t[i].title.rendered}</a>  </span>`)}(n);break;case s.URL_CATEGORIES:!function(t){for(console.log("boom"),$get_categ_section.html(""),i=0;i<t.length-1;i++)$get_categ_section.append(`<span class="catgItem"><a href="${t[i].link}">${t[i].name}</a>  </span>`)}(n);break;case s.URL_TAGS:!function(t){for(console.log("baam"),$get_tags_section.html(""),i=0;i<t.length-1;i++)$get_tags_section.append(`<span class="tagItem"><a href="${t[i].link}">${t[i].name}</a>  </span>`)}(n)}}).fail(function(){console.log("error")}).always(function(){console.log("AJAX complete")}),n}o==e&&(r(s.URL_TAGS),function(t){r(t)}(s.URL_ALL_POSTS),function(t){r(t)}(s.URL_CATEGORIES),console.log("..."))}(jQuery)});